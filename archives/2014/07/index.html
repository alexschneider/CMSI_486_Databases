<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2014/7 | CMSI 486</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Weekly blog for the databases class, taken over the summer of 2014 with Mike Megally">
<meta property="og:type" content="website">
<meta property="og:title" content="CMSI 486">
<meta property="og:url" content="http://alexschneider.github.io/CMSI_486_Databases/CMSI_486_Databases/archives/2014/07/">
<meta property="og:site_name" content="CMSI 486">
<meta property="og:description" content="Weekly blog for the databases class, taken over the summer of 2014 with Mike Megally">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CMSI 486">
<meta name="twitter:description" content="Weekly blog for the databases class, taken over the summer of 2014 with Mike Megally">

  
    <link rel="alternative" href="/atom.xml" title="CMSI 486" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/CMSI_486_Databases/css/style.css" type="text/css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/CMSI_486_Databases/" id="logo">CMSI 486</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/CMSI_486_Databases/" id="subtitle">Databases Independent Study</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://alexschneider.github.io/CMSI_486_Databases"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-week-nine" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CMSI_486_Databases/2014/07/28/week-nine/" class="article-date">
  <time datetime="2014-07-29T03:26:14.000Z" itemprop="datePublished">Jul 28th 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/CMSI_486_Databases/categories/Weekly-Updates/">Weekly Updates</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/CMSI_486_Databases/2014/07/28/week-nine/">Week Nine</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I really need to be doing more stuff with the blog!</p>
<p>I’m leaving for a two week trip to Alaska on Wednesday, which means that there will be no updates for the next couple of weeks.</p>
<p>However, I plan on doing the following:</p>
<ul>
<li>Finishing the MongoDB course - I have one more lesson, which I think I can do tomorrow, and the test, which I’ll have to try to make time to do in Alaska.</li>
<li>Do a lot of work in the book - this is my time to read and do book problems. I haven’t really been doing much of those lately…</li>
<li>Work on pyORMatic - this will depend on whether or not there’s time. I can always do pyORMatic after I get back, but I will have lots of long bus/train trips, so I can probably use my laptop for this.</li>
<li>Take pictures! (Not really related to the course)</li>
</ul>
<p>However, I was busy with MongoDB over the past week. I learned about the aggregation framework, which is essentially analogous to SQL’s “clauses,” I.E. WHERE, GROUP BY, HAVING, SELECT, ORDER BY, LIMIT, SUM, and COUNT. Since these statemenets are so integral to SQL (especially SELECT, WHERE, ORDER BY, etc), I never really thought about how they would translate to MongoDB, so I was kind of shocked when the majority of the work we did was without these aids. I suppose that the majority of MongoDB’s operations can be emulated in a programming language much more easily than SQL,</p>
<p>Mongo’s versatility does come at a cost, however. Even something as simple as counting the number of orders in a database is extremely verbose:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">db.orders.aggregate( [</div><div class="line">   {</div><div class="line">     $<span class="keyword">group</span>: {</div><div class="line">        _id: <span class="keyword">null</span>,</div><div class="line">        <span class="keyword">count</span>: { $<span class="keyword">sum</span>: <span class="number">1</span> }</div><div class="line">     }</div><div class="line">   }</div><div class="line">] )</div></pre></td></tr></table></figure>

<p>Compare to SQL:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="operator"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(*) <span class="keyword">FROM</span> orders</span></div></pre></td></tr></table></figure>

<p>More examples can be found <a href="http://docs.mongodb.org/manual/reference/sql-aggregation-comparison/" target="_blank" rel="external">here</a></p>
<p>Mongo’s way of doing things makes longer, more complicated queries much simpler than MySQL, since there’s a practically infinite amount of nesting that can be done, and it can be done in a much more intuitive way than SQL. However, there’s a number of little gotchas that make things rather annoying (though this could easily be my fault for being so used to SQL).</p>
<p>Thankfully, my perfect homework score still stands (despite me having to guess on one of the problems…). </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alexschneider.github.io/CMSI_486_Databases/2014/07/28/week-nine/" data-id="koimdbkdi36s1z2r" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-week-eight" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CMSI_486_Databases/2014/07/21/week-eight/" class="article-date">
  <time datetime="2014-07-22T05:13:15.000Z" itemprop="datePublished">Jul 21st 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/CMSI_486_Databases/categories/Weekly-Updates/">Weekly Updates</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/CMSI_486_Databases/2014/07/21/week-eight/">Week Eight</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I’m still down to the wire on this post, but at least I have more meaningful stuff to say. This week, as an overview, I managed to complete the MongoDB requriements early - last Tuesday, and spend all weekend working on pyORMatic (which, I’ve learned, doesn’t have a link on the page. Let’s <a href="https://github.com/alexschneider/pyORMatic" target="_blank" rel="external">fix</a> that). I’ve also added a link to the pyORMatic page.</p>
<p>I spent a good deal of time planning how I wanted to take my new ORM, and I think I’ve got a solid direction. Here are some of my considerations:</p>
<ul>
<li>I want to be able to store RICH objects<ul>
<li>Unsurprisingly, Python has a <a href="https://docs.python.org/3.4/library/pickle.html" target="_blank" rel="external">way to do it</a></li>
<li>To facilitate storing and retrieving data, I am going to have a custom object type that is similar to a dictionary (users of my ORM can treat it like one). It also supports attribute style accessors.</li>
</ul>
</li>
<li>I want to be able to quickly and easily switch between databases<ul>
<li>As such, storing data in a human readable/queryable format is secondary. This means that all queries will have to be done through the ORM. Storage will be done in such a way that makes as much sense as possible (i.e. JSON format in Postgres, JSON as flat files, Blobs in MySQL), but as the data is binary encoded from pickling, this is secondary.</li>
</ul>
</li>
<li>The ORM should be simple - it supports “putting” an object, “getting” an object, “modifying” an object, and “deleting” an object. Anything else must be handled by user of the ORM.</li>
</ul>
<p>Performance:</p>
<ul>
<li>I will let MySQL/Postgres/Mongo handle performance in their own way, doing my best to optimize queries to match the database’s best case uses within my constraints.</li>
<li>For flat files, I toyed with implementing sort of a B-Tree system, using binary search trees, or using indexes. My goal was to avoid overwriting the entire file after each database write, instead preferring to either append to the file or update only the line necessary. I ended up deciding (mostly out of laziness) to just overwrite the entire file and handle searching internally.<ul>
<li>Thankfully, Python has many methods that make sorting and searching easier. Due to the old adage: “If I didn’t write it, it occurs in asymptotically θ(1) time,” all my code occurs in constant time!</li>
<li>On a more serious note, I was worried of becoming victim to <a href="http://c2.com/cgi/wiki?PrematureOptimization" target="_blank" rel="external">premature optimization</a>. I decided to get the code working first, and go back for optimization afterward.</li>
</ul>
</li>
</ul>
<p>R.E. Mongo - this is also going well. I’m still at 100% completion on homework and tests. The performance considerations were very interesting to me, and had a pretty significant impact on how I decided to construct the database. I toyed with the idea of using indexes, and I still may, but managing indexes is very complicated, especially considering the number one consideration that I have for my database - rich data storage. Because pickling is storing binary data, it is difficult to organize data in a certain way. I’ll keep doing research to see if it’s at all possible though.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alexschneider.github.io/CMSI_486_Databases/2014/07/21/week-eight/" data-id="bi1uuw06tikv9shi" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-week-seven" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CMSI_486_Databases/2014/07/14/week-seven/" class="article-date">
  <time datetime="2014-07-14T15:09:25.000Z" itemprop="datePublished">Jul 14th 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/CMSI_486_Databases/categories/Weekly-Updates/">Weekly Updates</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/CMSI_486_Databases/2014/07/14/week-seven/">Week Seven</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Thus ends week three of the Mongo course. I STILL haven’t had time to do much else, but in a couple of weeks I’m leaving on a trip where my internet access will be limited. I’m planning on spending a lot of time with the textbook and catching with pyORMatic then. I’ll try to make more advances over the coming weeks, as they ought to be less hectic than the last couple of weeks.</p>
<p>This week in Mongo was about Schema design. More specifically, about how Schemaless design is “great.” I’ve ranted a little in last week’s post about this, but here’s some more:</p>
<ul>
<li>It is nice to have a rich document design that can have many layers. This reduces the number of documents/tables needed to store related information. As such, One-One and One-Many relations are modeled quite easily in Mongo, assuming the data being stored is only pertinent to the parent document.  </li>
<li>However, having such a rich document design has drawbacks, since it makes it difficult to have normalized data - that is, data that isn’t repeated or replicated. Ideally, if something needed changing, one would only need to change it in one location.</li>
<li>Furthermore, relations between tables have to be performed inside the programming language, rather than inside the database. There may be a way that I haven’t learned yet to do relations within Mongo, but what I have learned just feels very clunky.</li>
</ul>
<p>It felt like there were several workarounds that were needed to accurately model the relations. In the Mongo videos, the examples that they gave amounted to: “You would never actually need to do this with correct schema design”, or “We don’t need to store this data because it would contradict with our schema design”.</p>
<p>For the homework this week, I did write a couple of one liners in python that were pretty awesome. A little bit of an aside: Functional constructs in langauges are amazing. They allow code to be incredibly short and once one understands them, can pack a ton of power into a single line of code.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alexschneider.github.io/CMSI_486_Databases/2014/07/14/week-seven/" data-id="0e1yr621dtlgf328" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-week-six" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CMSI_486_Databases/2014/07/07/week-six/" class="article-date">
  <time datetime="2014-07-08T03:45:40.000Z" itemprop="datePublished">Jul 7th 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/CMSI_486_Databases/categories/Weekly-Updates/">Weekly Updates</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/CMSI_486_Databases/2014/07/07/week-six/">Week Six</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This week, I’ve done the 2nd week of the MongoDB course. Thankfully, unlike last week, I managed to submit the homework on time. Mongo has been taking up a large majority of the time that I’ve been able to spend on the databases class, but hopefully, I’ll get to spend more time next week.</p>
<p>One of the things that I personally believe is valuable and increases the depth of knowledge out of a course is teaching others. I’ve been trying to be active on the MongoDB forums, answering questions that I have the ability to. At first, this was very difficult, but I’ve been able to do it more and more easily. It’s always nice to be thanked, as well.</p>
<p>The primary goal this week for the Mongo course was CRUD operations. One thing that I’m not a huge fan of is Mongo’s schemaless design. All of the operations feel fairly arbitrary and cobbled together. Also, though it is nice to have native extensions in the language that you are using, there are some annoyances. It’s difficult to translate database queries between languages, since they use the programming language’s design features. Thankfully, python has data structures that are more or less analogous to Javascript’s Object and Array types, but for a language like Java, C, or others, I imagine it’s much more difficult to wrap your head around.</p>
<p>As a result, even though Mongo has a rich querying langauge that’s pretty well represented by PyMongo, I still prefer to do the bare minimum with PyMongo, and perform all the sorting, limits, and manipulations within Python itself. I’ve been trying to force myself to do things with PyMongo as much as possible, but it leads to a lot of frustrated cries of <a href="http://gag.googlecode.com/svn/trunk/javadoc/com/google/gag/annotation/remark/ThisWouldBeOneLineIn.html" target="_blank" rel="external">“THIS COULD BE DONE IN ONE LINE!”</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alexschneider.github.io/CMSI_486_Databases/2014/07/07/week-six/" data-id="l3qakbdsgk7uem26" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-week-five" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CMSI_486_Databases/2014/07/01/week-five/" class="article-date">
  <time datetime="2014-07-01T21:13:52.000Z" itemprop="datePublished">Jul 1st 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/CMSI_486_Databases/categories/Weekly-Updates/">Weekly Updates</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/CMSI_486_Databases/2014/07/01/week-five/">Week Five</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This week I started the MongoDB university course. I actually started the Java course some time ago, but decided to hold off on that in favor of the Python course, a much more pleasant language to program in. Also, who can live without the Monty Python references?</p>
<p>Unfortunately, I misread the submission due date for the 1st week’s homework as 5 o’clock PM PST, when it was actually 5 o’clock PM UTC. It’s entirely my fault, since I’ve been so used to everyone on the internet using Pacific time as the standard time (as it should be!). Regardless, it’s not all bad, and they drop the lowest week’s homework score, so as long as I do well the rest of the time, I shouldn’t have too much of an issue.</p>
<p>The first week was mostly about setting up mongo, Python, and an introduction to JSON. Since I was already well versed in JSON and Python, it was mostly review for me, though I did learn some interesting things about some of the advantages and drawbacks of the JSON syntax, as well as what exactly mongo was (I had assumed that it used the same structured query language as popular databases such as MySQL, Postgres, or Oracle used, only with some extensions). I was actually pleasantly surprised that Mongo’s shell was simply a javascript interpreter with a couple of custom built in functions. Being able to take advantage of such a rich programming language in executing queries in the mongo shell was quite nice.</p>
<p>However, initial impressions of Mongo have lead me to believe that it is rather clunky and clumsy. JSON is rather nice, but some of the syntaxes that Mongo uses for the conditions, sorting, limits, etc are unintuitive at best and require constant reference to documentation. The functions are not very descriptive, and to do something as simple as selecting all records from the database where the score is greater than a certain number requires several JSON objects, some of which are nested several layers deep.</p>
<p>One nice thing about Mongo is how fast it is - benchmarks have shown it to be much faster than any SQL database, so I have pretty high hopes for using Mongo for big data.</p>
<p>I’m not yet convinced about the merits of schemaless databases, but I’ll reserve judgement for now.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alexschneider.github.io/CMSI_486_Databases/2014/07/01/week-five/" data-id="esvt1dixfeq39i1s" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/CMSI_486_Databases/categories/Exercises/">Exercises</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/CMSI_486_Databases/categories/Readings/">Readings</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/CMSI_486_Databases/categories/Weekly-Updates/">Weekly Updates</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/CMSI_486_Databases/categories/pyORMatic/">pyORMatic</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/CMSI_486_Databases/archives/2014/09">September 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/CMSI_486_Databases/archives/2014/08">August 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/CMSI_486_Databases/archives/2014/07">July 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/CMSI_486_Databases/archives/2014/06">June 2014</a><span class="archive-list-count">6</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/CMSI_486_Databases/2014/09/01/Week-Sixteen/">Week Sixteen</a>
          </li>
        
          <li>
            <a href="/CMSI_486_Databases/2014/09/01/F1-Database/">F1 Database</a>
          </li>
        
          <li>
            <a href="/CMSI_486_Databases/2014/09/01/Pros-and-Cons-of-MongoDB/">Pros and Cons of Mongo Db</a>
          </li>
        
          <li>
            <a href="/CMSI_486_Databases/2014/09/01/Methods-and-Procedures/">Methods and Procedures</a>
          </li>
        
          <li>
            <a href="/CMSI_486_Databases/2014/08/30/Chapter-18-Problems/">Chapter 18 Problems</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 Alex Schneider<br>
      Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/CMSI_486_Databases/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/CMSI_486_Databases/fancybox/jquery.fancybox.pack.js"></script>


<script src="/CMSI_486_Databases/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>